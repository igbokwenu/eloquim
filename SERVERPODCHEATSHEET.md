# Serverpod CLI Cheatsheet

A quick reference guide for installing, setting up, and running a Serverpod project.

---

## üõ†Ô∏è Installation & Setup

| Command | Description |
| :--- | :--- |
| `dart pub global activate serverpod_cli` | Installs/updates the Serverpod CLI globally on your machine. |
| `serverpod` | Verifies installation and displays help/available commands. |
| `serverpod create <project_name>` | Creates a new project folder with server, client, and flutter packages. |

> **Note:** Project names must be lowercase with underscores (e.g., `my_project`).

---

## üêò Database Management (Docker)
*Commands must be run from the `your_project_server` directory.*

- **Start Database:** `docker compose up`
- **Start in Background:** `docker compose up -d`
- **Stop Database:** `docker compose down`

---

## üöÄ Running the Application

### 1. Start the Server
Navigate to the server directory:
```bash
cd my_project_server
dart run bin/main.dart --apply-migrations

# Terminal 1: Start database & server
cd eloquim_server
docker-compose up -d
serverpod generate
serverpod create-migration
serverpod run
dart bin/main.dart --apply-migrations

# Terminal 2: Run Flutter app
cd eloquim_flutter
flutter pub get
flutter run

Project Crash Course
Your project is a full-stack Serverpod application (Flutter + Dart backend).

1. Architecture Overview
eloquim_server/: The backend logic, database definition, and API endpoints.
eloquim_client/: The bridge code generated by Serverpod (never edit this manually).
eloquim_flutter/: The frontend UI (Mobile & Web).
2. How to Run the Project
You always need 3 processes running simultaneously:

A. Database (Postgres + Redis) Runs via Docker. It persists your data.

zsh
cd eloquim_server
docker-compose up -d --build
B. Server (Backend) Runs the dart API server.

zsh
cd eloquim_server
dart run bin/main.dart (If in production)
dart run bin/main.dart --apply-migrations (If in development or made database changes in production)
Tip: If you modify database tables (models in lib/src/models), run 
$ docker compose up --build --detach 
$ dart bin/main.dart --apply-migrations


C. Client (Frontend) Runs your Flutter app.

zsh
cd eloquim_flutter
flutter run -d chrome --web-port 3000
3. Development Workflow
Changing API/Models: Valid changes in eloquim_server need a generator run to update the client.
zsh
cd eloquim_server
serverpod generate
Do this whenever you add an Endpoint or Model property.

serverpod generate
serverpod create-migration
serverpod create-migration --force
docker compose up --build --detach 
dart bin/main.dart --apply-migrations

flutter run -d chrome

# Deploy
scloud deploy

# Build Flutter app test
serverpod run flutter_build

# Check deployment status
scloud deployment show

# View logs
scloud log

scloud log --tail

# Check for build errors
scloud deployment build-log  

# List all passwords (shows names only, not values)
scloud password list
scloud secret list

# View specific build log
scloud deployment build-log 923a5286-c937-46fd-90a2-a23d78025c31

# View logs since hours past
scloud log 10m
scloud log --since 1h


# Deploy
scloud deploy

Debugging:

scloud deploy --verbose

scloud deploy --dry-run --verbose

scloud deploy --show-files

scloud deployment show 923a5286-c937-46fd-90a2-a23d78025c31
scloud deployment build-log 0
scloud deployment build-log 923a5286-c937-46fd-90a2-a23d78025c31

scloud deployment list

