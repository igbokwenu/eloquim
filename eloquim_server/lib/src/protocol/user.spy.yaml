#eloquim_server/lib/src/protocol/user.spy.yaml
class: User
table: users
fields:
  username: String
  email: String?
  gender: String?
  age: int?
  country: String?

  personaId: int?
  persona: Persona?, relation(field=personaId)

  emojiSignature: String, default="âœ¨ðŸŽµðŸ’«"
  hasDoneTutorial: bool, default=false
  createdAt: DateTime, default=now
  lastSeen: DateTime, default=now
  isAnonymous: bool, default=true

indexes:
  users_last_seen_idx:
    fields: lastSeen
    type: btree
  users_email_idx:
    fields: email
    unique: false
